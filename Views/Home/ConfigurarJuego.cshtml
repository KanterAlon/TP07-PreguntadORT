<section class="seccion-interna configuracion">
    <h2>Configurar tu partida</h2>
    <form asp-action="Comenzar" method="get" class="form-juego">
        <div class="input-container">
            <label for="username">Nombre de Usuario:</label>
            <input type="text" id="username" name="username" required placeholder="Escribe tu nombre aquí..." />
        </div>

        <!-- Sección de Dificultades -->
        <h3>Dificultad:</h3>
        <div class="contenedor-cards-elegibles">
            @foreach (var dificultad in ViewBag.Dificultades)
            {
                <button type="button" class="card-boton dificultad-card" data-value="@dificultad.IdDificultad">
                    <div class="card-content">
                        <h4>@dificultad.Nombre</h4>
                    </div>
                </button>
            }
        </div>

        <!-- Sección de Categorías -->
        <h3>Categoría:</h3>
        <div class="contenedor-cards-elegibles">
            @foreach (var categoria in ViewBag.Categorias)
            {
                <button type="button" class="card-boton categoria-card" data-value="@categoria.IdCategoria">
                    <div class="card-content">
                        <h4>@categoria.Nombre</h4>
                    </div>
                </button>
            }
        </div>

        <!-- Inputs ocultos para enviar dificultad y categoría seleccionadas -->
        <input type="hidden" id="dificultadSeleccionada" name="dificultad" />
        <input type="hidden" id="categoriaSeleccionada" name="categoria" />

        <button type="submit" class="btn-jugar">¡Comenzar!</button>
    </form>
</section>

<script>
    // Manejar la selección de dificultad
    document.querySelectorAll('.dificultad-card').forEach(function(button) {
        button.addEventListener('click', function() {
            // Eliminar la selección anterior
            document.querySelectorAll('.dificultad-card').forEach(function(btn) {
                btn.classList.remove('selected');
            });
            // Añadir la clase 'selected' al botón actual
            this.classList.add('selected');
            // Guardar el valor seleccionado en el input oculto
            document.getElementById('dificultadSeleccionada').value = this.getAttribute('data-value');
        });
    });

    // Manejar la selección de categoría
    document.querySelectorAll('.categoria-card').forEach(function(button) {
        button.addEventListener('click', function() {
            // Eliminar la selección anterior
            document.querySelectorAll('.categoria-card').forEach(function(btn) {
                btn.classList.remove('selected');
            });
            // Añadir la clase 'selected' al botón actual
            this.classList.add('selected');
            // Guardar el valor seleccionado en el input oculto
            document.getElementById('categoriaSeleccionada').value = this.getAttribute('data-value');
        });
    });
</script>