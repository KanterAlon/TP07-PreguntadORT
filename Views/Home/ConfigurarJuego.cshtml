<section class="seccion-interna configuracion">
    <h2>Configurar tu partida</h2>
    <form asp-action="Comenzar" method="get" class="form-juego">
        <div class="input-container">
            <label for="username">Nombre de Usuario:</label>
            <input type="text" id="username" name="username" required placeholder="Escribe tu nombre aquí..." />
        </div>

        <!-- Sección de Dificultades
        <h3>Dificultad:</h3>
        <div class="contenedor-cards-elegibles">
            @foreach (var dificultad in ViewBag.Dificultades)
            {
                <button type="button" class="card-boton dificultad-card" data-value="@dificultad.IdDificultad">
                    <div class="card-content">
                        <h4>@dificultad.Nombre</h4>
                    </div>
                </button>
            }
        </div> -->

       <!-- Sección de Dificultades -->
        <h3>Dificultad:</h3>
        <div class="l-container">
            @foreach (var dificultad in ViewBag.Dificultades)
            {
                <div class="b-game-card dificultad-card" data-value="@dificultad.IdDificultad">
                    <div class="b-game-card__cover" style="background-image: url(https://andrewhawkes.github.io/codepen-assets/steam-game-cards/game_1.jpg);"></div>
                </div>
            }
        </div>

        <!-- Sección de Categorías -->
        <h3>Categoría:</h3>
        <div class="card-grid">
            @foreach (var categoria in ViewBag.Categorias)
            {
                <a class="card" href="#" data-value="@categoria.IdCategoria">
                    <div class="card__background" style="background-image: url(https://images.unsplash.com/photo-1557177324-56c542165309?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80)"></div>
                    <div class="card__content">
                        <h3 class="card__heading">@categoria.Nombre</h3>
                    </div>
                </a>
            }
        </div>
        

        <!-- Inputs ocultos para enviar dificultad y categoría seleccionadas -->
        <input type="hidden" id="dificultadSeleccionada" name="dificultad" />
        <input type="hidden" id="categoriaSeleccionada" name="categoria" />

        <button type="submit" class="btn-jugar">¡Comenzar!</button>
    </form>
</section>

<script>
    // Manejar la selección de dificultad
    document.querySelectorAll('.dificultad-card').forEach(function(button) {
        button.addEventListener('click', function() {
            // Eliminar la selección anterior
            document.querySelectorAll('.dificultad-card').forEach(function(btn) {
                btn.classList.remove('selected');
            });
            // Añadir la clase 'selected' al botón actual
            this.classList.add('selected');
            // Guardar el valor seleccionado en el input oculto
            document.getElementById('dificultadSeleccionada').value = this.getAttribute('data-value');
        });
    });

    // Manejar la selección de categoría
    document.querySelectorAll('.categoria-card').forEach(function(button) {
        button.addEventListener('click', function() {
            // Eliminar la selección anterior
            document.querySelectorAll('.categoria-card').forEach(function(btn) {
                btn.classList.remove('selected');
            });
            // Añadir la clase 'selected' al botón actual
            this.classList.add('selected');
            // Guardar el valor seleccionado en el input oculto
            document.getElementById('categoriaSeleccionada').value = this.getAttribute('data-value');
        });
    });
</script>